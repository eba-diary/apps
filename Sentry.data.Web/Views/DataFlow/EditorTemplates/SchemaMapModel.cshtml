﻿@model Sentry.data.Web.SchemaMapModel

@* When save failure occur, this logic will ensure schemamaps marked as
    deleted will not show when page is reloaded *@
@{var isActive = "active";
    var displayType = "block";

    if (Model.IsDeleted)
    {
        isActive = "";
        displayType = "none";
    };
}    

    <div class="schemaMapLineItem form-group col-md-12 @isActive" style="display: @displayType">
        @Html.HiddenFor((model) => model.IsDeleted)
        <div class="col-md-4">
            @Html.EditorFor(m => m.SearchCriteria, new { htmlAttributes = new { @class = "control-label col-md-12", @style = "min-height: 32px;", @placeholder = "Enter Filter Regex" } })
            @Html.ValidationMessageFor((model) => model.SearchCriteria, "", new { @class = "text-danger error-over-color" })
        </div>

        <div class="col-md-3">
            <span class="datasetSpinner"></span>
            @Html.DropDownListFor((model) => model.SelectedDataset, Model.AllDatasets, new { @class = "form-control edit-dataset-row" })
            @Html.ValidationMessageFor((model) => model.SelectedDataset, "", new { @class = "text-danger error-over-color" })
        </div>

        <div class="col-md-4">
            <span class="schemaSpinner"></span>
            @Html.DropDownListFor((model) => model.SelectedSchema, Model.AllSchemas, new { @class = "form-control edit-dataset-row" })
            @Html.ValidationMessageFor((model) => model.SelectedSchema, "", new { @class = "text-danger error-over-color" })
        </div>
        <div id="btnSchemaMapRemove" class="col-md-1">
            <a class="btn btn-danger">Remove</a>
        </div>
    </div>

