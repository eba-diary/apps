@model Sentry.data.Web.ManageConfigsModel

@{
    ViewBag.Title = "View Dataset Configuration Details";
    string color = "dsc-" + Model.CategoryColor + "-text";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@helper BackLink()
{
    <a class="backToList" href="/Dataset/Detail/@Model.DatasetId"><em class="fas fa-chevron-left pr-2"></em>Back to Dataset Information</a>
}

@BackLink()

<div class="topBanner config-header">
    <div class="relative hidden-sm hidden-xs">
        <div class="no-overflow">
            <h1 class="detailName leftFloat @color pt-0">
                @Model.DatasetName
            </h1>
        </div>
    </div>
</div>

<!--Accordion wrapper-->
<div class="accordion md-accordion" id="accordionSchemas" role="tablist" aria-multiselectable="true">
    @foreach (DatasetFileConfigsModel item in Model.DatasetFileConfigs.Where(x => (x.ObjectStatus == Sentry.data.Core.GlobalEnums.ObjectStatusEnum.Active && !Model.Security.ShowAdminControls) || (Model.Security.ShowAdminControls && x.ObjectStatus != Sentry.data.Core.GlobalEnums.ObjectStatusEnum.Deleted)).ToList())
    {

        <!-- Accordion card -->
        <div class="card">
            <!-- Card header -->
            <div class="card-header" role="tab" id="heading_@item.ConfigId">
                <a class="collapsed" data-toggle="collapse" data-parent="#accordionSchemas" href="#collapse_@item.ConfigId" aria-expanded="false" aria-controls="collapse_@item.ConfigId">
                    <h2 class="@color pt-3">
                            @item.ConfigFileName
                            @if (item.ObjectStatus != Sentry.data.Core.GlobalEnums.ObjectStatusEnum.Active)
                            {
                                <em class="ml-2">(@Sentry.data.Core.GlobalEnums.ObjectStatusEnum.Pending_Delete.ToString())</em>
                            }
                            <em class="fas fa-angle-down rotate-icon"></em>
                    </h2>
                </a>
            </div>

            <!-- Card body -->
            <div id="collapse_@item.ConfigId" class="collapse" role="tabpanel" aria-labelledby="heading_@item.ConfigId" data-parent="#accordionSchemas">
                <div class="card-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3
                    wolf
                    moon
                    officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod.
                    Brunch
                    3
                    wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda
                    shoreditch
                    et.
                    Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
                    Ad
                    vegan
                    excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth
                    nesciunt
                    you probably haven't heard of them accusamus labore sustainable VHS.
                </div>
            </div>

        </div>
        <!-- Accordion card -->
    }
</div>
<!-- Accordion wrapper -->

<a class="btn btn-success mt-3" href="/Config/Dataset/@Model.DatasetId/Create"><em class="fas fa-plus"></em>  Create new Data File Configuration</a>

<hr />

@BackLink()

@section Scripts {

    @Scripts.Render("~/bundles/prettyCron")

    <script>
        $(function () {
            data.Config.IndexInit();
        });
    </script>
}