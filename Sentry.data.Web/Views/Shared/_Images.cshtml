﻿@model Sentry.data.Web.ImageModel

@using (Html.BeginCollectionItem("Images"))
{
    <div class="col-md-4 Image">
        @Html.HiddenFor(m => m.ImageId)
        @Html.HiddenFor(m => m.sortOrder)
        @Html.HiddenFor(m => m.StorageKey)
        @Html.HiddenFor(m => m.ContentType)
        @Html.HiddenFor(m => m.FileExtension)
        @Html.HiddenFor(m => m.FileName)
        @Html.HiddenFor(m => m.StorageBucketName)
        @Html.HiddenFor(m => m.StorageKey)
        @Html.HiddenFor(m => m.StoragePrefix)

        <div class="col-md-12 fancybox-images fancybox-image-@Model.sortOrder">
            <a class="fancybox" data-fancybox="gallery" data-caption="Image @Model.sortOrder" href="@Url.Action("GetImage", "BusinessIntelligence", new { Area = "", url = Model.StorageKey })">
                <div class="detail-thumbnail-container">
                    <img class="img detail-thumbnail" src="@Url.Action("GetImage", "BusinessIntelligence", new { Area = "", url = Model.StorageKey, t = 2 })" />
                    @Html.HiddenFor(m => m.deleteImage, new { @class = "mark-for-delete" })
                </div>
            </a>
            <div class="col-md-12">
                @Html.RemoveLink("Remove", "div.Image", "input.mark-for-delete")
            </div>
        </div>
    </div>
}