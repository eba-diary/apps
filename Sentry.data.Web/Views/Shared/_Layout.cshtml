@{
    //bool isSubPage = (ViewData["menu"] == null || (bool)ViewData["menu"] == true) ? true : false;
    bool isFluid = (ViewData["fluid"] == null || (bool)ViewData["fluid"] == false) ? false : true;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    @Styles.Render("~/bundles/css/main")
    @RenderSection("styles", false)
    @Styles.Render("~/bundles/css/site")

</head>
<body class="prevent-animation">
    <!-- BEGIN SENTRY COMMON HEADER -->
    @Html.Action("GetHeader", "Layout"@*, new { hasMenu = isSubPage }*@)
    <!-- END SENTRY COMMON HEADER -->
    @*used for ajax $.ajaxSetup() in _Shared.js*@
    <form id="__AjaxAntiForgeryForm" action="#" method="post">@Html.AntiForgeryToken()</form>

    @if (isFluid)
    {
        <div class="container-fluid body-content">
            @* ###BEGIN SENTRYBAY### - Code below is SentryBay-specific *@
            @if (IsSectionDefined("Documentation"))
            {
                <div class="row bs-callout bs-callout-info alert alert-dismissible " role="alert">
                    <button type="button" class="close" data-dismiss="alert" title="Close Documentation"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    @RenderSection("Documentation", false)
                </div>
            }
            @* ###END SENTRYBAY### - Code above is SentryBay-specific *@
            @RenderBody()
        </div>
    }
    else
    {
        <div class="container body-content">
            @* ###BEGIN SENTRYBAY### - Code below is SentryBay-specific *@
            @if (IsSectionDefined("Documentation"))
            {
            <div class="row bs-callout bs-callout-info alert alert-dismissible " role="alert">
                <button type="button" class="close" data-dismiss="alert" title="Close Documentation"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                @RenderSection("Documentation", false)
            </div>
            }  
            @* ###END SENTRYBAY### - Code above is SentryBay-specific *@
            @RenderBody()
        </div>
    }

    @Html.Action("GetFooter", "Layout")

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/js")    

    <script>
        $(document).ready(function () {

            if (/rv:11.0/i.test(navigator.userAgent) || /MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent)) {
                // This is internet explorer
                $('#internetExplorerWarning').show();
            }

            data._Layout.Init();
            
            $.ajax({
                type: "GET",
                url: "/api/v1/queryTool/sessions/primary",
                dataType: "json",
                success: function (msg) {
                    console.log(msg);
                    $('#dscSession').attr("href", msg.livyURL + "/ui/session/" + msg.id);
                }
            });
        });
    </script>

    @RenderSection("Scripts", false)

    @StackExchange.Profiling.MiniProfiler.RenderIncludes()

</body>

</html>
