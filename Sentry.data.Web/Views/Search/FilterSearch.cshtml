@model FilterSearchModel

@{
    ViewBag.Fluid = true;
    string controllerName = "data." + Model.PageTitle.Replace(" ", "");
}

<div class="search-horizontal-center">
    <div class="search-head">
        <div class="search-head-item"><img src="@Url.Content(Model.IconPath)" class="search-head-img" /></div>
        <div class="search-head-item"><h1 class="datasetHeader">@Model.PageTitle</h1></div>

        <div id="search-box" class="has-feedback has-feedback-left">
            <input class="form-control searchTextDS text-box single-line" type="text" id="filter-search-text" placeholder="Search @Model.PageTitle" value="" disabled />
            <i class="form-control-feedback glyphicon glyphicon-search clickable filter-search-start display-none"></i>
            <i class="form-control-feedback fa fa-circle-o-notch fa-spin"></i>
        </div>
    </div>
</div>

<div class="filter-search-body">
    <div class="filter-search-container">
        <div class="filter-search-title-container bottom-border">
            <h1 class="filter-search-title">Filter</h1>
            <span class="filter-search-clear-container"><a href="#" class="display-none" id="filter-search-clear">Clear All</a></span>
            <button type="button" class="btn btn-primary display-none filter-search-start" id="filter-search-apply"><i class="glyphicon glyphicon-search filter-search-apply-icon"></i>Apply</button>
        </div>

        <div class="filter-search-categories-sentry-spinner">
            <span class="sentry-spinner"></span>
        </div>

        <div class="filter-search-categories-container display-none">
            @Html.Partial("~/Views/Search/FilterCategories.cshtml", Model.FilterCategories)
        </div>
    </div>

    <div class="filter-search-result-sentry-spinner">
        <span class="sentry-spinner"></span>
    </div>

    <div class="filter-search-results-container display-none">
        @Html.Partial(Model.ResultView)
    </div>
</div>

@section Scripts
{
    @Scripts.Render("~/bundles/dataTables")
    <script type="text/javascript">

        $(function () {
                @(controllerName).init();
                data.FilterSearch.init(@(controllerName).executeSearch, @(controllerName).aggregateFilter);
            });

    </script>
}