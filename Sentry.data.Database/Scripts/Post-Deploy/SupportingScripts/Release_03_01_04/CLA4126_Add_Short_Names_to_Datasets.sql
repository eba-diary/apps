SET @ScriptVersion = 'CLA4126_Add_Short_Names_to_Datasets'

BEGIN TRAN 
IF NOT EXISTS (SELECT * FROM [Version] where Version_CDE=@ScriptVersion) 
BEGIN TRY 
    IF @ScriptVersion LIKE '***%' THROW 100001, 'Error running post-deploy script: the ScriptVersion was still set to the default value!', 1
    PRINT 'Running script "' + @ScriptVersion + '"...'
    -- BEGIN POST-DEPLOY SCRIPT --

    DECLARE @ENV4126 VARCHAR(10) = (select CAST(value as VARCHAR(10)) from sys.extended_properties where NAME = 'NamedEnvironment')
    IF @ENV4126 = 'PROD'
	BEGIN
        update dataset set short_nme = 'AccountInstr' where dataset_id = 395
        update dataset set short_nme = 'ActiveDirect' where dataset_id = 381
        update dataset set short_nme = 'ActNow' where dataset_id = 279
        update dataset set short_nme = 'AgentEvents' where dataset_id = 371
        update dataset set short_nme = 'Agilysys' where dataset_id = 383
        update dataset set short_nme = 'AmazonTelem' where dataset_id = 252
        update dataset set short_nme = 'AmazonTrace' where dataset_id = 253
        update dataset set short_nme = 'AnalyticsCSO' where dataset_id = 391
        update dataset set short_nme = 'AppFoundatio' where dataset_id = 325
        update dataset set short_nme = 'betterview' where dataset_id = 232
        update dataset set short_nme = 'Bitbucket' where dataset_id = 166
        update dataset set short_nme = 'Bottomline' where dataset_id = 310
        update dataset set short_nme = 'C1ActivitySt' where dataset_id = 254
        update dataset set short_nme = 'CABPublicDat' where dataset_id = 120
        update dataset set short_nme = 'CalabrioCall' where dataset_id = 320
        update dataset set short_nme = 'CCC' where dataset_id = 243
        update dataset set short_nme = 'ChangeRecord' where dataset_id = 244
        update dataset set short_nme = 'CLPolicyCent' where dataset_id = 375
        update dataset set short_nme = 'ClaimIQ' where dataset_id = 172
        update dataset set short_nme = 'CBSurvey' where dataset_id = 308
        update dataset set short_nme = 'CBSurveyQA' where dataset_id = 309
        update dataset set short_nme = 'Clearinghous' where dataset_id = 329
        update dataset set short_nme = 'CLIVRLgcy' where dataset_id = 305
        update dataset set short_nme = 'CLIVRLgcyAct' where dataset_id = 306
        update dataset set short_nme = 'CnctAgtProd' where dataset_id = 311
        update dataset set short_nme = 'CnctAgtProdQ' where dataset_id = 312
        update dataset set short_nme = 'CnctLogInOut' where dataset_id = 314
        update dataset set short_nme = 'CnctSvcHst' where dataset_id = 313
        update dataset set short_nme = 'Confluence' where dataset_id = 215
        update dataset set short_nme = 'CoLeCategory' where dataset_id = 347
        update dataset set short_nme = 'CoLeInterrup' where dataset_id = 348
        update dataset set short_nme = 'CoLeIssue' where dataset_id = 349
        update dataset set short_nme = 'CoLeLoudness' where dataset_id = 346
        update dataset set short_nme = 'CoLeNonTalk' where dataset_id = 344
        update dataset set short_nme = 'CoLeParticip' where dataset_id = 340
        update dataset set short_nme = 'CoLeRaw' where dataset_id = 343
        update dataset set short_nme = 'CoLeRedacti' where dataset_id = 342
        update dataset set short_nme = 'CoLeSentime' where dataset_id = 345
        update dataset set short_nme = 'CoLeTranscri' where dataset_id = 339
        update dataset set short_nme = 'CoLeTurn' where dataset_id = 341
        update dataset set short_nme = 'ContactTrace' where dataset_id = 317
        update dataset set short_nme = 'ControlM' where dataset_id = 377
        update dataset set short_nme = 'CorvusAmzCnt' where dataset_id = 389
        update dataset set short_nme = 'CorvusClarab' where dataset_id = 387
        update dataset set short_nme = 'CorvusCLCRM' where dataset_id = 388
        update dataset set short_nme = 'CorvusC1' where dataset_id = 386
        update dataset set short_nme = 'CorvusEntEvt' where dataset_id = 384
        update dataset set short_nme = 'CorvusPLCRM' where dataset_id = 385
        update dataset set short_nme = 'Coventry' where dataset_id = 319
        update dataset set short_nme = 'CRVSAWSConne' where dataset_id = 393
        update dataset set short_nme = 'CRVSCases' where dataset_id = 351
        update dataset set short_nme = 'C1EpicQuoted' where dataset_id = 121
        update dataset set short_nme = 'C1Linking' where dataset_id = 109
        update dataset set short_nme = 'C1LinkingPL' where dataset_id = 350
        update dataset set short_nme = 'C1Notes' where dataset_id = 114
        update dataset set short_nme = 'DecisionPoin' where dataset_id = 214
        update dataset set short_nme = 'DSCJobs' where dataset_id = 170
        update dataset set short_nme = 'Dynatrace' where dataset_id = 370
        update dataset set short_nme = 'ECHOClaims' where dataset_id = 125
        update dataset set short_nme = 'ECHOEPICClie' where dataset_id = 112
        update dataset set short_nme = 'ECHOEPICProd' where dataset_id = 113
        update dataset set short_nme = 'EPICReturnMa' where dataset_id = 207
        update dataset set short_nme = 'EsignData' where dataset_id = 220
        update dataset set short_nme = 'EventFeed' where dataset_id = 274
        update dataset set short_nme = 'Experian' where dataset_id = 394
        update dataset set short_nme = 'FARS' where dataset_id = 122
        update dataset set short_nme = 'FNOL' where dataset_id = 245
        update dataset set short_nme = 'FNOLArchive' where dataset_id = 235
        update dataset set short_nme = 'GHCN' where dataset_id = 124
        update dataset set short_nme = 'DLGglAnlyt' where dataset_id = 205
        update dataset set short_nme = 'HCMU' where dataset_id = 167
        update dataset set short_nme = 'HLDI' where dataset_id = 234
        update dataset set short_nme = 'ICClaim' where dataset_id = 280
        update dataset set short_nme = 'ICClaimProce' where dataset_id = 287
        update dataset set short_nme = 'ICClaimant' where dataset_id = 281
        update dataset set short_nme = 'ICCoverage' where dataset_id = 282
        update dataset set short_nme = 'ICFinancial' where dataset_id = 283
        update dataset set short_nme = 'ICInsuredIte' where dataset_id = 285
        update dataset set short_nme = 'ICLitigation' where dataset_id = 286
        update dataset set short_nme = 'ICParticipan' where dataset_id = 284
        update dataset set short_nme = 'IHSMarkitDat' where dataset_id = 331
        update dataset set short_nme = 'InpointClaim' where dataset_id = 380
        update dataset set short_nme = 'JIRA' where dataset_id = 321
        update dataset set short_nme = 'keeptruckin' where dataset_id = 307
        update dataset set short_nme = 'LexUttDetect' where dataset_id = 275
        update dataset set short_nme = 'LexUttMissed' where dataset_id = 276
        update dataset set short_nme = 'LexisNexis' where dataset_id = 327
        update dataset set short_nme = 'ZipWhipMessg' where dataset_id = 374
        update dataset set short_nme = 'MVRBatch' where dataset_id = 376
        update dataset set short_nme = 'NorthernTrus' where dataset_id = 378
        update dataset set short_nme = 'Oculus' where dataset_id = 272
        update dataset set short_nme = 'OpsGenie' where dataset_id = 326
        update dataset set short_nme = 'PindropRepor' where dataset_id = 390
        update dataset set short_nme = 'PLNCRF' where dataset_id = 239
        update dataset set short_nme = 'PLPCChangeEv' where dataset_id = 396
        update dataset set short_nme = 'PLPCHoldData' where dataset_id = 226
        update dataset set short_nme = 'PLVendorData' where dataset_id = 382
        update dataset set short_nme = 'PLVINData' where dataset_id = 237
        update dataset set short_nme = 'PLABCAccQual' where dataset_id = 332
        update dataset set short_nme = 'PLABCPayPlan' where dataset_id = 337
        update dataset set short_nme = 'PLACMCData' where dataset_id = 200
        update dataset set short_nme = 'PLAPAMPayIR' where dataset_id = 354
        update dataset set short_nme = 'PLAPAMPayPR' where dataset_id = 192
        update dataset set short_nme = 'PLAPAMProofF' where dataset_id = 334
        update dataset set short_nme = 'PLAPAMQuoteB' where dataset_id = 335
        update dataset set short_nme = 'PLAPAMTCZM' where dataset_id = 356
        update dataset set short_nme = 'PLAPAMZipRes' where dataset_id = 336
        update dataset set short_nme = 'PLAPCINCIDEN' where dataset_id = 338
        update dataset set short_nme = 'PLAPCIARL' where dataset_id = 357
        update dataset set short_nme = 'PLAPCIScore' where dataset_id = 353
        update dataset set short_nme = 'PLAPCNonRenw' where dataset_id = 358
        update dataset set short_nme = 'PLAPCNtfConf' where dataset_id = 359
        update dataset set short_nme = 'PLAPCNSFCLD' where dataset_id = 360
        update dataset set short_nme = 'PLAPCRateFee' where dataset_id = 355
        update dataset set short_nme = 'PLAPCRewPayD' where dataset_id = 361
        update dataset set short_nme = 'PLARTRIScore' where dataset_id = 230
        update dataset set short_nme = 'PLRateProduc' where dataset_id = 303
        update dataset set short_nme = 'PLUR' where dataset_id = 316
        update dataset set short_nme = 'Powerbeat' where dataset_id = 184
        update dataset set short_nme = 'QCEW' where dataset_id = 123
        update dataset set short_nme = 'Quartermaste' where dataset_id = 164
        update dataset set short_nme = 'RatifyData' where dataset_id = 242
        update dataset set short_nme = 'RMSFactorTra' where dataset_id = 323
        update dataset set short_nme = 'S4' where dataset_id = 373
        update dataset set short_nme = 'SAID' where dataset_id = 165
        update dataset set short_nme = 'SASObjectSpa' where dataset_id = 372
        update dataset set short_nme = 'SASUsageMetr' where dataset_id = 379
        update dataset set short_nme = 'SEER' where dataset_id = 195
        update dataset set short_nme = 'SentryDocs' where dataset_id = 231
        update dataset set short_nme = 'SRPLSalesEnv' where dataset_id = 318
        update dataset set short_nme = 'SRPLTerritor' where dataset_id = 304
        update dataset set short_nme = 'SRPLTransfor' where dataset_id = 315
        update dataset set short_nme = 'SSPO' where dataset_id = 224
        update dataset set short_nme = 'StormEvents' where dataset_id = 65
        update dataset set short_nme = 'USPSZIPCodes' where dataset_id = 116
        update dataset set short_nme = 'UWREMVROrder' where dataset_id = 364
        update dataset set short_nme = 'UWREProducer' where dataset_id = 366
        update dataset set short_nme = 'UWREStateDfl' where dataset_id = 368
        update dataset set short_nme = 'WFMAdhActual' where dataset_id = 257
        update dataset set short_nme = 'WFMAdhHighLv' where dataset_id = 255
        update dataset set short_nme = 'WFMAdhSched' where dataset_id = 256
        update dataset set short_nme = 'Workday' where dataset_id = 392
        update dataset set short_nme = 'Zipcodes' where dataset_id = 236
        update dataset set short_nme = 'ZZZTestData' where dataset_id = 324
    END
    ELSE IF @ENV4126 = 'QUAL'
    BEGIN
        update dataset set short_nme = 'Unknown' where dataset_id = 519
        update dataset set short_nme = '9292021' where dataset_id = 406
        update dataset set short_nme = '11.02.2021' where dataset_id = 451
        update dataset set short_nme = '11222021' where dataset_id = 459
        update dataset set short_nme = '6l6' where dataset_id = 518
        update dataset set short_nme = 'ACCLAIMAssig' where dataset_id = 526
        update dataset set short_nme = 'ACCLAIMPayme' where dataset_id = 527
        update dataset set short_nme = 'ACLMClaim' where dataset_id = 532
        update dataset set short_nme = 'ACLMClaimPro' where dataset_id = 533
        update dataset set short_nme = 'ACLMClaimPro' where dataset_id = 568
        update dataset set short_nme = 'ACLMClaim' where dataset_id = 567
        update dataset set short_nme = 'ACLMClaimant' where dataset_id = 534
        update dataset set short_nme = 'ACLMClaimant' where dataset_id = 569
        update dataset set short_nme = 'ACLMCoverage' where dataset_id = 535
        update dataset set short_nme = 'ACLMCoverage' where dataset_id = 570
        update dataset set short_nme = 'ACLMFinancia' where dataset_id = 536
        update dataset set short_nme = 'ACLMFinancia' where dataset_id = 571
        update dataset set short_nme = 'ACLMInsuredI' where dataset_id = 541
        update dataset set short_nme = 'ACLMInsuredI' where dataset_id = 572
        update dataset set short_nme = 'ACLMLitigati' where dataset_id = 542
        update dataset set short_nme = 'ACLMLitigati' where dataset_id = 573
        update dataset set short_nme = 'ACLMMiscella' where dataset_id = 543
        update dataset set short_nme = 'ACLMMiscella' where dataset_id = 574
        update dataset set short_nme = 'ACLMParticip' where dataset_id = 544
        update dataset set short_nme = 'ACLMParticip' where dataset_id = 575
        update dataset set short_nme = 'ActNow' where dataset_id = 560
        update dataset set short_nme = 'AgentEvents' where dataset_id = 452
        update dataset set short_nme = 'AmazonContac' where dataset_id = 387
        update dataset set short_nme = 'AndrewTest2' where dataset_id = 390
        update dataset set short_nme = 'AndrewTest4' where dataset_id = 427
        update dataset set short_nme = 'AndrewTest6' where dataset_id = 433
        update dataset set short_nme = 'AndrewTest8' where dataset_id = 435
        update dataset set short_nme = 'AndrewTest9' where dataset_id = 436
        update dataset set short_nme = 'AppFoundatio' where dataset_id = 399
        update dataset set short_nme = 'AxeCapitalIn' where dataset_id = 481
        update dataset set short_nme = 'betterview' where dataset_id = 292
        update dataset set short_nme = 'Bitbucket' where dataset_id = 539
        update dataset set short_nme = 'Bottomline' where dataset_id = 358
        update dataset set short_nme = 'CABPublicDat' where dataset_id = 127
        update dataset set short_nme = 'CalabrioCall' where dataset_id = 370
        update dataset set short_nme = 'CCC' where dataset_id = 324
        update dataset set short_nme = 'CCISClaim' where dataset_id = 471
        update dataset set short_nme = 'CCISClaimPro' where dataset_id = 472
        update dataset set short_nme = 'CCISClaimPro' where dataset_id = 501
        update dataset set short_nme = 'CCISClaimTES' where dataset_id = 500
        update dataset set short_nme = 'CCISClaimant' where dataset_id = 473
        update dataset set short_nme = 'CCISClaimant' where dataset_id = 503
        update dataset set short_nme = 'CCISCoverage' where dataset_id = 474
        update dataset set short_nme = 'CCISCoverage' where dataset_id = 504
        update dataset set short_nme = 'CCISFinancia' where dataset_id = 475
        update dataset set short_nme = 'CCISFinancia' where dataset_id = 505
        update dataset set short_nme = 'CCISInsuredI' where dataset_id = 476
        update dataset set short_nme = 'CCISInsuredI' where dataset_id = 506
        update dataset set short_nme = 'CCISLitigati' where dataset_id = 477
        update dataset set short_nme = 'CCISLitigati' where dataset_id = 507
        update dataset set short_nme = 'CCISMiscella' where dataset_id = 478
        update dataset set short_nme = 'CCISMiscella' where dataset_id = 508
        update dataset set short_nme = 'CCISParticip' where dataset_id = 479
        update dataset set short_nme = 'CCISParticip' where dataset_id = 509
        update dataset set short_nme = 'CLPolicyCent' where dataset_id = 464
        update dataset set short_nme = 'CLCases' where dataset_id = 423
        update dataset set short_nme = 'ClaimDataset' where dataset_id = 231
        update dataset set short_nme = 'ClaimTest' where dataset_id = 274
        update dataset set short_nme = 'ClaimIQ' where dataset_id = 185
        update dataset set short_nme = 'CBSurvey' where dataset_id = 360
        update dataset set short_nme = 'CBSurveyQA' where dataset_id = 357
        update dataset set short_nme = 'Clearinghous' where dataset_id = 386
        update dataset set short_nme = 'ClusterTesti' where dataset_id = 204
        update dataset set short_nme = 'CnctAgtProd' where dataset_id = 364
        update dataset set short_nme = 'CnctAgtProdQ' where dataset_id = 363
        update dataset set short_nme = 'CnctLogInOut' where dataset_id = 365
        update dataset set short_nme = 'CnctSvcHst' where dataset_id = 362
        update dataset set short_nme = 'Confluence' where dataset_id = 226
        update dataset set short_nme = 'CoLeCategory' where dataset_id = 412
        update dataset set short_nme = 'CoLeInterrup' where dataset_id = 413
        update dataset set short_nme = 'CoLeIssue' where dataset_id = 419
        update dataset set short_nme = 'CoLeLoudness' where dataset_id = 417
        update dataset set short_nme = 'CoLeNonTalk' where dataset_id = 414
        update dataset set short_nme = 'CoLeParticip' where dataset_id = 411
        update dataset set short_nme = 'CoLeRaw' where dataset_id = 420
        update dataset set short_nme = 'CoLeRedacti' where dataset_id = 418
        update dataset set short_nme = 'CoLeSentime' where dataset_id = 415
        update dataset set short_nme = 'CoLeTranscri' where dataset_id = 410
        update dataset set short_nme = 'CoLeTurn' where dataset_id = 416
        update dataset set short_nme = 'ContactTrace' where dataset_id = 366
        update dataset set short_nme = 'ConvertedDat' where dataset_id = 221
        update dataset set short_nme = 'CorvusAmazon' where dataset_id = 553
        update dataset set short_nme = 'CorvusClarab' where dataset_id = 555
        update dataset set short_nme = 'CorvusCLCRM' where dataset_id = 558
        update dataset set short_nme = 'CorvusCustom' where dataset_id = 556
        update dataset set short_nme = 'CorvusEnterp' where dataset_id = 554
        update dataset set short_nme = 'CorvusPLCRM' where dataset_id = 557
        update dataset set short_nme = 'Coventry' where dataset_id = 354
        update dataset set short_nme = 'CRVSAWSConne' where dataset_id = 564
        update dataset set short_nme = 'CRVSCases' where dataset_id = 430
        update dataset set short_nme = 'CRVSCLCases3' where dataset_id = 425
        update dataset set short_nme = 'CRVSConnectC' where dataset_id = 326
        update dataset set short_nme = 'CRVSConnectT' where dataset_id = 327
        update dataset set short_nme = 'CustomerOneA' where dataset_id = 316
        update dataset set short_nme = 'C1Linking' where dataset_id = 102
        update dataset set short_nme = 'C1LinkingPL' where dataset_id = 439
        update dataset set short_nme = 'CustomerOneN' where dataset_id = 107
        update dataset set short_nme = 'DailyQuoteSo' where dataset_id = 212
        update dataset set short_nme = 'DansTest(sec' where dataset_id = 169
        update dataset set short_nme = 'databrew' where dataset_id = 344
        update dataset set short_nme = 'DataflowEdit' where dataset_id = 512
        update dataset set short_nme = 'DecisionPoin' where dataset_id = 216
        update dataset set short_nme = 'DeleteTest' where dataset_id = 215
        update dataset set short_nme = 'DFDSCreate' where dataset_id = 270
        update dataset set short_nme = 'DSCEventTest' where dataset_id = 312
        update dataset set short_nme = 'DSCJobs' where dataset_id = 175
        update dataset set short_nme = 'DSCTestingRe' where dataset_id = 223
        update dataset set short_nme = 'ECHOClaims' where dataset_id = 286
        update dataset set short_nme = 'ECHOEPICClie' where dataset_id = 113
        update dataset set short_nme = 'ECHOEPICProd' where dataset_id = 114
        update dataset set short_nme = 'el34' where dataset_id = 517
        update dataset set short_nme = 'EPICReturnMa' where dataset_id = 209
        update dataset set short_nme = 'EPICTEST' where dataset_id = 210
        update dataset set short_nme = 'EsignData' where dataset_id = 224
        update dataset set short_nme = 'EventFeed' where dataset_id = 334
        update dataset set short_nme = 'FinancialTra' where dataset_id = 230
        update dataset set short_nme = 'FNOL' where dataset_id = 301
        update dataset set short_nme = 'FNOLArchive' where dataset_id = 300
        update dataset set short_nme = 'FNOLAndrewTe' where dataset_id = 294
        update dataset set short_nme = 'FreedomFutur' where dataset_id = 382
        update dataset set short_nme = 'GHCNYearlyFi' where dataset_id = 109
        update dataset set short_nme = 'glacier' where dataset_id = 482
        update dataset set short_nme = 'GoogleAnalyt' where dataset_id = 281
        update dataset set short_nme = 'HCMU' where dataset_id = 140
        update dataset set short_nme = 'hldi' where dataset_id = 295
        update dataset set short_nme = 'HollysTest' where dataset_id = 213
        update dataset set short_nme = 'HRTEST01' where dataset_id = 460
        update dataset set short_nme = 'ICClaim2' where dataset_id = 247
        update dataset set short_nme = 'ICClaim' where dataset_id = 317
        update dataset set short_nme = 'ICClaimDSCAP' where dataset_id = 345
        update dataset set short_nme = 'ICClaimProce' where dataset_id = 325
        update dataset set short_nme = 'ICClaimant' where dataset_id = 314
        update dataset set short_nme = 'ICCoverage' where dataset_id = 313
        update dataset set short_nme = 'ICCoverageDS' where dataset_id = 346
        update dataset set short_nme = 'ICFinancial' where dataset_id = 318
        update dataset set short_nme = 'ICInsuredIte' where dataset_id = 319
        update dataset set short_nme = 'ICIntegratio' where dataset_id = 359
        update dataset set short_nme = 'ICLitigation' where dataset_id = 320
        update dataset set short_nme = 'ICMiscellane' where dataset_id = 457
        update dataset set short_nme = 'ICParticipan' where dataset_id = 321
        update dataset set short_nme = 'ICValidation' where dataset_id = 361
        update dataset set short_nme = 'iccmclaim' where dataset_id = 257
        update dataset set short_nme = 'iccmclaimpro' where dataset_id = 258
        update dataset set short_nme = 'iccmclaimant' where dataset_id = 259
        update dataset set short_nme = 'iccmcoverage' where dataset_id = 260
        update dataset set short_nme = 'iccmfinancia' where dataset_id = 261
        update dataset set short_nme = 'iccminsuredi' where dataset_id = 262
        update dataset set short_nme = 'iccmnegotiat' where dataset_id = 263
        update dataset set short_nme = 'iccmparticip' where dataset_id = 264
        update dataset set short_nme = 'InpointClaim' where dataset_id = 548
        update dataset set short_nme = 'Investment' where dataset_id = 511
        update dataset set short_nme = 'InvestmentTe' where dataset_id = 520
        update dataset set short_nme = 'JeredsHappyP' where dataset_id = 497
        update dataset set short_nme = 'JonTest' where dataset_id = 469
        update dataset set short_nme = 'JSONTest' where dataset_id = 222
        update dataset set short_nme = 'keeptruckin' where dataset_id = 388
        update dataset set short_nme = 'LexUttDetect' where dataset_id = 333
        update dataset set short_nme = 'LexUttMissed' where dataset_id = 332
        update dataset set short_nme = 'LexisNexis' where dataset_id = 393
        update dataset set short_nme = 'LossDataforE' where dataset_id = 148
        update dataset set short_nme = 'MessageExtra' where dataset_id = 458
        update dataset set short_nme = 'Metadatatest' where dataset_id = 219
        update dataset set short_nme = 'MondayTest' where dataset_id = 384
        update dataset set short_nme = 'MondayTest1' where dataset_id = 385
        update dataset set short_nme = 'MVRBatch' where dataset_id = 522
        update dataset set short_nme = 'nestedjsonte' where dataset_id = 225
        update dataset set short_nme = 'Newtest' where dataset_id = 218
        update dataset set short_nme = 'NicoleTestin' where dataset_id = 297
        update dataset set short_nme = 'NOAAClimateD' where dataset_id = 147
        update dataset set short_nme = 'NOAAGHCNStat' where dataset_id = 110
        update dataset set short_nme = 'NOAAGHCNStaZ' where dataset_id = 112
        update dataset set short_nme = 'NorthernTrus' where dataset_id = 531
        update dataset set short_nme = 'Oculus' where dataset_id = 335
        update dataset set short_nme = 'ottawa' where dataset_id = 513
        update dataset set short_nme = 'PindropRepor' where dataset_id = 559
        update dataset set short_nme = 'PLNCRF' where dataset_id = 315
        update dataset set short_nme = 'PLPCHoldData' where dataset_id = 285
        update dataset set short_nme = 'PLVendorData' where dataset_id = 540
        update dataset set short_nme = 'PLVINData' where dataset_id = 322
        update dataset set short_nme = 'PLCases' where dataset_id = 429
        update dataset set short_nme = 'PLEmailSurve' where dataset_id = 515
        update dataset set short_nme = 'PLAdminBCAcc' where dataset_id = 404
        update dataset set short_nme = 'PLAdminBCPay' where dataset_id = 403
        update dataset set short_nme = 'PLACMCData' where dataset_id = 203
        update dataset set short_nme = 'PLAPAMPayIR' where dataset_id = 442
        update dataset set short_nme = 'PLAPAMPayPR' where dataset_id = 202
        update dataset set short_nme = 'PLAPAMProofF' where dataset_id = 401
        update dataset set short_nme = 'PLAPAMQuoteB' where dataset_id = 400
        update dataset set short_nme = 'PLAPAMTCZM' where dataset_id = 444
        update dataset set short_nme = 'PLAPAMZipRes' where dataset_id = 402
        update dataset set short_nme = 'PLAPCINCIDEN' where dataset_id = 405
        update dataset set short_nme = 'PLAPCIARL' where dataset_id = 445
        update dataset set short_nme = 'PLAPCIScore' where dataset_id = 441
        update dataset set short_nme = 'PLAPCNonRenw' where dataset_id = 446
        update dataset set short_nme = 'PLAPCNtfConf' where dataset_id = 447
        update dataset set short_nme = 'PLAPCNSFCLD' where dataset_id = 448
        update dataset set short_nme = 'PLAPCRateFee' where dataset_id = 443
        update dataset set short_nme = 'PLAPCRewPayD' where dataset_id = 449
        update dataset set short_nme = 'PLAPCREFARP' where dataset_id = 347
        update dataset set short_nme = 'PLARTRIScore' where dataset_id = 293
        update dataset set short_nme = 'PLRateProduc' where dataset_id = 352
        update dataset set short_nme = 'PLUR' where dataset_id = 378
        update dataset set short_nme = 'Powerbeat' where dataset_id = 189
        update dataset set short_nme = 'PrintToMailI' where dataset_id = 280
        update dataset set short_nme = 'QASearchTab' where dataset_id = 547
        update dataset set short_nme = 'QATesting' where dataset_id = 496
        update dataset set short_nme = 'QATestingDat' where dataset_id = 523
        update dataset set short_nme = 'QCEWAreaCode' where dataset_id = 125
        update dataset set short_nme = 'QCEWIndustry' where dataset_id = 129
        update dataset set short_nme = 'QUALDATASETS' where dataset_id = 576
        update dataset set short_nme = 'QuarterlyCen' where dataset_id = 128
        update dataset set short_nme = 'Quartermaste' where dataset_id = 168
        update dataset set short_nme = 'RatifyData' where dataset_id = 323
        update dataset set short_nme = 'redrockvenue' where dataset_id = 489
        update dataset set short_nme = 'RMSFactorTra' where dataset_id = 379
        update dataset set short_nme = 'S4' where dataset_id = 470
        update dataset set short_nme = 'SAID' where dataset_id = 432
        update dataset set short_nme = 'ScoutDailyCa' where dataset_id = 206
        update dataset set short_nme = 'SentryDataPi' where dataset_id = 563
        update dataset set short_nme = 'SentryDocs' where dataset_id = 296
        update dataset set short_nme = 'SESCLAIMQUAL' where dataset_id = 577
        update dataset set short_nme = 'SESDEMOWEATH' where dataset_id = 516
        update dataset set short_nme = 'SESDEMOWEAT2' where dataset_id = 456
        update dataset set short_nme = 'SESEXasdfas' where dataset_id = 461
        update dataset set short_nme = 'SESHR' where dataset_id = 499
        update dataset set short_nme = 'SESInvestmen' where dataset_id = 565
        update dataset set short_nme = 'SRPLSalesEnv' where dataset_id = 369
        update dataset set short_nme = 'SRPLTerritor' where dataset_id = 353
        update dataset set short_nme = 'SRPLTransfor' where dataset_id = 538
        update dataset set short_nme = 'SSPO' where dataset_id = 283
        update dataset set short_nme = 'StormEventsD' where dataset_id = 63
        update dataset set short_nme = 'StressTestMa' where dataset_id = 348
        update dataset set short_nme = 'StringData' where dataset_id = 220
        update dataset set short_nme = 'sylvania' where dataset_id = 521
        update dataset set short_nme = 'TestDataset' where dataset_id = 498
        update dataset set short_nme = 'TestDataset2' where dataset_id = 197
        update dataset set short_nme = 'TestforAddto' where dataset_id = 214
        update dataset set short_nme = 'TestThursday' where dataset_id = 272
        update dataset set short_nme = 'Test1' where dataset_id = 514
        update dataset set short_nme = 'Test999' where dataset_id = 502
        update dataset set short_nme = 'TESTEL' where dataset_id = 355
        update dataset set short_nme = 'test09232021' where dataset_id = 398
        update dataset set short_nme = 'TestCreateEr' where dataset_id = 550
        update dataset set short_nme = 'TestOnly306' where dataset_id = 549
        update dataset set short_nme = 'TestOnly307' where dataset_id = 551
        update dataset set short_nme = 'TestOnly308' where dataset_id = 552
        update dataset set short_nme = 'Thur09092021' where dataset_id = 392
        update dataset set short_nme = 'Tim' where dataset_id = 524
        update dataset set short_nme = 'Transcript' where dataset_id = 408
        update dataset set short_nme = 'TueTest282' where dataset_id = 391
        update dataset set short_nme = 'USPSZIPCodes' where dataset_id = 137
        update dataset set short_nme = 'UWREMVROrder' where dataset_id = 453
        update dataset set short_nme = 'UWREProducer' where dataset_id = 455
        update dataset set short_nme = 'UWREStateDfl' where dataset_id = 454
        update dataset set short_nme = 'wdayqatest' where dataset_id = 467
        update dataset set short_nme = 'wdayqatest2' where dataset_id = 468
        update dataset set short_nme = 'WeatherTESTI' where dataset_id = 383
        update dataset set short_nme = 'WeatherTheS3' where dataset_id = 269
        update dataset set short_nme = 'WeatherTheS5' where dataset_id = 271
        update dataset set short_nme = 'WFMAdhActual' where dataset_id = 331
        update dataset set short_nme = 'WFMAdhHighLv' where dataset_id = 329
        update dataset set short_nme = 'WFMAdhSched' where dataset_id = 330
        update dataset set short_nme = 'Workday' where dataset_id = 462
        update dataset set short_nme = 'WorkdayTest' where dataset_id = 483
        update dataset set short_nme = 'Workday1' where dataset_id = 463
        update dataset set short_nme = 'yellowstone1' where dataset_id = 484
        update dataset set short_nme = 'ZipCodesDlx' where dataset_id = 282
        update dataset set short_nme = 'ZipCodesBus' where dataset_id = 67
        update dataset set short_nme = 'ZZQ' where dataset_id = 485
        update dataset set short_nme = 'ZZQCLA3332Te' where dataset_id = 490
        update dataset set short_nme = 'ZZQv1' where dataset_id = 486
        update dataset set short_nme = 'ZZZTestData' where dataset_id = 381
        update dataset set short_nme = 'ZZZCLA350400' where dataset_id = 440
        update dataset set short_nme = 'ZZZZJCG001' where dataset_id = 561
        update dataset set short_nme = 'zzzzJCG002' where dataset_id = 562

    END
    ELSE IF @ENV4126 = 'TEST'
    BEGIN
        update dataset set short_nme = '9292021' where dataset_id = 283
        update dataset set short_nme = '10262021Test' where dataset_id = 294
        update dataset set short_nme = '19752015Fata' where dataset_id = 80
        update dataset set short_nme = '2012Economic' where dataset_id = 78
        update dataset set short_nme = '2013QCEWNAIC' where dataset_id = 83
        update dataset set short_nme = '2014QCEWNAIC' where dataset_id = 84
        update dataset set short_nme = '2015FatalA' where dataset_id = 79
        update dataset set short_nme = '2015FatalP' where dataset_id = 81
        update dataset set short_nme = '2015FatalV' where dataset_id = 82
        update dataset set short_nme = '2015QCEWNAIC' where dataset_id = 85
        update dataset set short_nme = '2016QCEWNAIC' where dataset_id = 108
        update dataset set short_nme = 'actnow' where dataset_id = 270
        update dataset set short_nme = 'AddtoSAStest' where dataset_id = 232
        update dataset set short_nme = 'Andrew' where dataset_id = 153
        update dataset set short_nme = 'AndrewTest1' where dataset_id = 279
        update dataset set short_nme = 'AndrewTest2' where dataset_id = 280
        update dataset set short_nme = 'AndrewTest4' where dataset_id = 287
        update dataset set short_nme = 'AndrewTest5' where dataset_id = 325
        update dataset set short_nme = 'AndrewTest6' where dataset_id = 326
        update dataset set short_nme = 'AppFoundatio' where dataset_id = 284
        update dataset set short_nme = 'AxeCapitalIn' where dataset_id = 303
        update dataset set short_nme = 'Bitbucket' where dataset_id = 259
        update dataset set short_nme = 'CABPublicDat' where dataset_id = 170
        update dataset set short_nme = 'CLA3435Test0' where dataset_id = 290
        update dataset set short_nme = 'CLA4008001' where dataset_id = 331
        update dataset set short_nme = 'ClaimIQ' where dataset_id = 219
        update dataset set short_nme = 'CIQI060517' where dataset_id = 113
        update dataset set short_nme = 'CIQI061117' where dataset_id = 114
        update dataset set short_nme = 'CIQI061817' where dataset_id = 115
        update dataset set short_nme = 'CIQI062517' where dataset_id = 116
        update dataset set short_nme = 'CIQL060417' where dataset_id = 117
        update dataset set short_nme = 'CIQL061117' where dataset_id = 118
        update dataset set short_nme = 'CIQL061817' where dataset_id = 119
        update dataset set short_nme = 'CIQL062517' where dataset_id = 120
        update dataset set short_nme = 'Consolidated' where dataset_id = 289
        update dataset set short_nme = 'CoronaVaccin' where dataset_id = 256
        update dataset set short_nme = 'CoryTestDele' where dataset_id = 268
        update dataset set short_nme = 'C1Linking' where dataset_id = 132
        update dataset set short_nme = 'C1LinkingPL' where dataset_id = 293
        update dataset set short_nme = 'CustomerOneN' where dataset_id = 155
        update dataset set short_nme = 'DailyQuoteSo' where dataset_id = 229
        update dataset set short_nme = 'DDM1001' where dataset_id = 192
        update dataset set short_nme = 'DDM1002' where dataset_id = 202
        update dataset set short_nme = 'DDM301001' where dataset_id = 199
        update dataset set short_nme = 'DDMClaimIQPa' where dataset_id = 211
        update dataset set short_nme = 'DDMControlFi' where dataset_id = 220
        update dataset set short_nme = 'DDMSCOUTTEST' where dataset_id = 221
        update dataset set short_nme = 'DDMTest1003' where dataset_id = 217
        update dataset set short_nme = 'DDMTest2001' where dataset_id = 216
        update dataset set short_nme = 'DDMTest3001' where dataset_id = 218
        update dataset set short_nme = 'DeleteMePlea' where dataset_id = 272
        update dataset set short_nme = 'Demo01' where dataset_id = 313
        update dataset set short_nme = 'Demo02' where dataset_id = 316
        update dataset set short_nme = 'Demo0215' where dataset_id = 323
        update dataset set short_nme = 'DEMONOAAGHCN' where dataset_id = 162
        update dataset set short_nme = 'DEMOQCEWArea' where dataset_id = 165
        update dataset set short_nme = 'DEMOQuarterl' where dataset_id = 163
        update dataset set short_nme = 'DemoTest' where dataset_id = 260
        update dataset set short_nme = 'DSCJobs' where dataset_id = 193
        update dataset set short_nme = 'DSCTesting' where dataset_id = 226
        update dataset set short_nme = 'eagle1' where dataset_id = 304
        update dataset set short_nme = 'ECHOClaims' where dataset_id = 173
        update dataset set short_nme = 'EchoEpicClie' where dataset_id = 149
        update dataset set short_nme = 'ECHOEPICProd' where dataset_id = 150
        update dataset set short_nme = 'ELTest' where dataset_id = 277
        update dataset set short_nme = 'EsignData' where dataset_id = 243
        update dataset set short_nme = 'EvanTest' where dataset_id = 291
        update dataset set short_nme = 'finaltesting' where dataset_id = 310
        update dataset set short_nme = 'FMCSACensus' where dataset_id = 154
        update dataset set short_nme = 'FMCSACrash' where dataset_id = 156
        update dataset set short_nme = 'FNOL' where dataset_id = 267
        update dataset set short_nme = 'GHCNYearlyFi' where dataset_id = 134
        update dataset set short_nme = 'heyjudethur' where dataset_id = 297
        update dataset set short_nme = 'HLDICycleMed' where dataset_id = 100
        update dataset set short_nme = 'HLDINSABICov' where dataset_id = 102
        update dataset set short_nme = 'HLDINSAColli' where dataset_id = 103
        update dataset set short_nme = 'HLDINSACompr' where dataset_id = 104
        update dataset set short_nme = 'HLDINSAMedic' where dataset_id = 105
        update dataset set short_nme = 'HLDINSAPDLCo' where dataset_id = 106
        update dataset set short_nme = 'HLDINSAPIPCo' where dataset_id = 107
        update dataset set short_nme = 'HLDINSATable' where dataset_id = 101
        update dataset set short_nme = 'HollysTest' where dataset_id = 230
        update dataset set short_nme = 'hollytest2' where dataset_id = 306
        update dataset set short_nme = 'hollytest4' where dataset_id = 308
        update dataset set short_nme = 'HR09292021' where dataset_id = 282
        update dataset set short_nme = 'HR10012021' where dataset_id = 285
        update dataset set short_nme = 'HR10062021C' where dataset_id = 288
        update dataset set short_nme = 'HrOnInvOn' where dataset_id = 312
        update dataset set short_nme = 'ICClaimProce' where dataset_id = 274
        update dataset set short_nme = 'ICClaimant' where dataset_id = 266
        update dataset set short_nme = 'IndustryComp' where dataset_id = 86
        update dataset set short_nme = 'IndustryRate' where dataset_id = 87
        update dataset set short_nme = 'ISOFastrack2' where dataset_id = 94
        update dataset set short_nme = 'ISOVINMaster' where dataset_id = 95
        update dataset set short_nme = 'JCG20211019' where dataset_id = 292
        update dataset set short_nme = 'JCGDeleteMe4' where dataset_id = 265
        update dataset set short_nme = 'JCGDSCSVTest' where dataset_id = 273
        update dataset set short_nme = 'JCGTest001' where dataset_id = 275
        update dataset set short_nme = 'JCGTest003' where dataset_id = 276
        update dataset set short_nme = 'JCGTest301' where dataset_id = 171
        update dataset set short_nme = 'JCGTEST1' where dataset_id = 271
        update dataset set short_nme = 'JCGTest20190' where dataset_id = 210
        update dataset set short_nme = 'JCGTestCSV' where dataset_id = 169
        update dataset set short_nme = 'jennylake' where dataset_id = 314
        update dataset set short_nme = 'JSONTest' where dataset_id = 240
        update dataset set short_nme = 'Kim' where dataset_id = 168
        update dataset set short_nme = 'KimsNewDatas' where dataset_id = 236
        update dataset set short_nme = 'MedPrv' where dataset_id = 152
        update dataset set short_nme = 'MedPrv060517' where dataset_id = 109
        update dataset set short_nme = 'MedPrv061217' where dataset_id = 110
        update dataset set short_nme = 'MedPrv061917' where dataset_id = 111
        update dataset set short_nme = 'MedPrv062617' where dataset_id = 112
        update dataset set short_nme = 'Metadatatest' where dataset_id = 238
        update dataset set short_nme = 'MotorCarrier' where dataset_id = 124
        update dataset set short_nme = 'MountainLigh' where dataset_id = 332
        update dataset set short_nme = 'Newtest' where dataset_id = 237
        update dataset set short_nme = 'NOAAGHCNDSta' where dataset_id = 146
        update dataset set short_nme = 'NOAAStations' where dataset_id = 147
        update dataset set short_nme = 'NOAAWeatherS' where dataset_id = 135
        update dataset set short_nme = 'NOAAWeather2' where dataset_id = 133
        update dataset set short_nme = 'nullorigin4' where dataset_id = 320
        update dataset set short_nme = 'PAMPLADMIN' where dataset_id = 203
        update dataset set short_nme = 'PLUR' where dataset_id = 222
        update dataset set short_nme = 'PLURGZIPData' where dataset_id = 224
        update dataset set short_nme = 'PLURSourcePa' where dataset_id = 205
        update dataset set short_nme = 'PLURTest' where dataset_id = 223
        update dataset set short_nme = 'PLURVendorPa' where dataset_id = 206
        update dataset set short_nme = 'QCEWIndustry' where dataset_id = 166
        update dataset set short_nme = 'QuarterlyCen' where dataset_id = 157
        update dataset set short_nme = 'Quartermaste' where dataset_id = 318
        update dataset set short_nme = 'QuarterRaw' where dataset_id = 160
        update dataset set short_nme = 'ReassignSaid' where dataset_id = 330
        update dataset set short_nme = 'redrockvenue' where dataset_id = 309
        update dataset set short_nme = 'RobbsData2' where dataset_id = 158
        update dataset set short_nme = 'RobbsData' where dataset_id = 159
        update dataset set short_nme = 'SAS2' where dataset_id = 234
        update dataset set short_nme = 'SAS3' where dataset_id = 235
        update dataset set short_nme = 'SAStest' where dataset_id = 233
        update dataset set short_nme = 'SatTest' where dataset_id = 298
        update dataset set short_nme = 'SchemaTestin' where dataset_id = 239
        update dataset set short_nme = 'ScoutDailyCa' where dataset_id = 215
        update dataset set short_nme = 'SecurityTest' where dataset_id = 228
        update dataset set short_nme = '3Party060917' where dataset_id = 121
        update dataset set short_nme = '3Party061617' where dataset_id = 122
        update dataset set short_nme = '3Party062317' where dataset_id = 123
        update dataset set short_nme = 'SESCASHMONEY' where dataset_id = 328
        update dataset set short_nme = 'StormEventsD' where dataset_id = 93
        update dataset set short_nme = 'sylvania' where dataset_id = 324
        update dataset set short_nme = 'TestDataset' where dataset_id = 311
        update dataset set short_nme = 'TestingPermi' where dataset_id = 296
        update dataset set short_nme = 'TheWeatheris' where dataset_id = 251
        update dataset set short_nme = 'TueTestOnly' where dataset_id = 333
        update dataset set short_nme = 'USPSZipCodes' where dataset_id = 161
        update dataset set short_nme = 'USPSZIPCodeD' where dataset_id = 96
        update dataset set short_nme = 'W10012021' where dataset_id = 286
        update dataset set short_nme = 'wdaytest' where dataset_id = 300
        update dataset set short_nme = 'wdaytest2' where dataset_id = 301
        update dataset set short_nme = 'wdaytest3' where dataset_id = 302
        update dataset set short_nme = 'WeatherTheSt' where dataset_id = 242
        update dataset set short_nme = 'WeatherThe10' where dataset_id = 250
        update dataset set short_nme = 'WeatherTheS3' where dataset_id = 244
        update dataset set short_nme = 'WeatherTheS5' where dataset_id = 245
        update dataset set short_nme = 'WeatherTheS6' where dataset_id = 249
        update dataset set short_nme = 'WthrBirm2008' where dataset_id = 89
        update dataset set short_nme = 'WthrBirm2016' where dataset_id = 90
        update dataset set short_nme = 'WthrCities' where dataset_id = 92
        update dataset set short_nme = 'WthrMultiCty' where dataset_id = 91
        update dataset set short_nme = 'WebServiceRe' where dataset_id = 167
        update dataset set short_nme = 'ZipCodesDlx' where dataset_id = 258
        update dataset set short_nme = 'ZipCodePlace' where dataset_id = 99
        update dataset set short_nme = 'ZipCodesBus' where dataset_id = 97
        update dataset set short_nme = 'ZipCodesDotC' where dataset_id = 257
        update dataset set short_nme = 'ZipCodesMult' where dataset_id = 98
        update dataset set short_nme = 'ZZDDemo01' where dataset_id = 315
        update dataset set short_nme = 'ZZDDemo02' where dataset_id = 317
        update dataset set short_nme = 'ZZDDemo03' where dataset_id = 319
        update dataset set short_nme = 'ZZZDemo22021' where dataset_id = 321
        update dataset set short_nme = 'ZZZDem22021B' where dataset_id = 322
        update dataset set short_nme = 'ZZZTestData' where dataset_id = 278
        update dataset set short_nme = 'ZZZTestDataH' where dataset_id = 329
        update dataset set short_nme = 'ZZZZCLA38380' where dataset_id = 327
    END

    --catch-all in case any additional datasets get added before this script is run
    update dataset set short_nme = left(replace(replace(replace(dataset_nme,'-',''),'_',''),' ',''),12) where short_nme is null
    --throw exception if any duplicate short_nme exist 
    --ignore datasets starting with ACLM and CCIS because in Qual there are duplicate "TEST" and "QUAL" versions of the Insurance Concepts datasets
    if (exists(select short_nme, count(*) from dataset where left(dataset_nme,4) <> 'ACLM' and left(dataset_nme,4) <> 'CCIS' group by short_nme having count(*)>1)) THROW 50001, 'Duplicate Short_NME detected - please manually update the values in Dataset.Short_NME to be unique', 1 

    -- END POST-DEPLOY SCRIPT --
    INSERT INTO VERSION (Version_CDE, AppliedOn_DTM) VALUES ( @ScriptVersion, GETDATE() ) 
END TRY 
BEGIN CATCH 
    SELECT 
        @ErrorMessage = ERROR_MESSAGE(), 
        @ErrorSeverity = ERROR_SEVERITY(), 
        @ErrorState = ERROR_STATE(); 
  
    RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState ); 
  
    ROLLBACK TRAN 
    RETURN
END CATCH 

COMMIT TRAN

